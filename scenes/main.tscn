[gd_scene load_steps=19 format=3 uid="uid://bwqtd33l6csiq"]

[ext_resource type="Script" uid="uid://crrkgo3x48ihj" path="res://scripts/main.gd" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://bwbdtfwl1b3qo" path="res://scenes/game.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://bytqredcukrnp" path="res://scripts/set_scale.gd" id="3_jyhfs"]
[ext_resource type="Theme" uid="uid://dointlqpqiudv" path="res://game_ui_theme.tres" id="4_tefeu"]
[ext_resource type="Script" uid="uid://b7psdvigitf2i" path="res://scenes/pause_ui.gd" id="5_85g3d"]
[ext_resource type="Script" uid="uid://b6efssvjts634" path="res://scripts/game_over_ui.gd" id="5_o6xl0"]
[ext_resource type="Theme" uid="uid://bn3fpdjbg7h01" path="res://sound_ui-theme.tres" id="6_tefeu"]
[ext_resource type="Script" uid="uid://dksiv6pfya53i" path="res://scenes/sound_controls.gd" id="7_o6xl0"]
[ext_resource type="Script" uid="uid://d0i8lm8ljooxe" path="res://addons/richtext2/text_effects/effects/rte_sin.gd" id="9_choun"]
[ext_resource type="Script" uid="uid://daw0bfnm5ia0d" path="res://addons/richtext2/richer_text_label.gd" id="10_choun"]

[sub_resource type="Gradient" id="Gradient_tbgi4"]
colors = PackedColorArray(0.24, 0.24, 0.24, 1, 0.1, 0.1, 0.1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tefeu"]
gradient = SubResource("Gradient_tbgi4")
fill_to = Vector2(0, 1)

[sub_resource type="Animation" id="Animation_tefeu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_tbgi4"]
resource_name = "pause"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o6xl0"]
_data = {
&"RESET": SubResource("Animation_tefeu"),
&"pause": SubResource("Animation_tbgi4")
}

[sub_resource type="RichTextEffect" id="RichTextEffect_choun"]
resource_name = "sin"
script = ExtResource("9_choun")
metadata/rt = 6672064026696

[sub_resource type="Animation" id="Animation_o6xl0"]
resource_name = "game_over"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tipki"]
_data = {
&"RESET": SubResource("Animation_tefeu"),
&"game_over": SubResource("Animation_o6xl0")
}

[node name="Main" type="Node2D" node_paths=PackedStringArray("pause_ui", "game_over_ui", "game")]
process_mode = 3
script = ExtResource("1_0wfyh")
pause_ui = NodePath("UI/PauseUI")
game_over_ui = NodePath("UI/GameOverUI")
game = NodePath("game")

[node name="game" parent="." instance=ExtResource("1_o5qli")]
process_mode = 1

[node name="UI" type="CanvasLayer" parent="."]
layer = 2
script = ExtResource("3_jyhfs")

[node name="PauseUI" type="Control" parent="UI" node_paths=PackedStringArray("animation", "continue_button", "restart_button")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
theme = ExtResource("4_tefeu")
script = ExtResource("5_85g3d")
animation = NodePath("AnimationPlayer")
continue_button = NodePath("MarginContainer/VBoxContainer/continue")
restart_button = NodePath("MarginContainer/VBoxContainer/restart")

[node name="BG" type="TextureRect" parent="UI/PauseUI"]
modulate = Color(1, 1, 1, 0.588235)
layout_mode = 1
anchors_preset = -1
anchor_right = 6.8
anchor_bottom = 6.0
offset_bottom = -1.52588e-05
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture2D_tefeu")
expand_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="UI/PauseUI"]
layout_mode = 1
offset_right = 272.0
offset_bottom = 240.0
theme_override_constants/margin_left = 32
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 32
theme_override_constants/margin_bottom = 8

[node name="VBoxContainer" type="VBoxContainer" parent="UI/PauseUI/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 2
alignment = 1

[node name="paused" type="Label" parent="UI/PauseUI/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
text = "Paused"
horizontal_alignment = 1
vertical_alignment = 1

[node name="continue" type="Button" parent="UI/PauseUI/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Continue"

[node name="restart" type="Button" parent="UI/PauseUI/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Restart"

[node name="Sound Controls" type="HBoxContainer" parent="UI/PauseUI/MarginContainer/VBoxContainer" node_paths=PackedStringArray("sfx", "bg", "music")]
layout_mode = 2
theme = ExtResource("6_tefeu")
alignment = 1
script = ExtResource("7_o6xl0")
sfx = NodePath("SfxToggle")
bg = NodePath("BGToggle")
music = NodePath("MusicToggle")

[node name="SfxToggle" type="CheckBox" parent="UI/PauseUI/MarginContainer/VBoxContainer/Sound Controls"]
layout_mode = 2
button_pressed = true
text = "SFX"

[node name="BGToggle" type="CheckBox" parent="UI/PauseUI/MarginContainer/VBoxContainer/Sound Controls"]
layout_mode = 2
button_pressed = true
text = "BG"

[node name="MusicToggle" type="CheckBox" parent="UI/PauseUI/MarginContainer/VBoxContainer/Sound Controls"]
layout_mode = 2
text = "Music"

[node name="LinkButton" type="LinkButton" parent="UI/PauseUI/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "vanawy.dev"
underline = 1
uri = "https://vanawy.dev"

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/PauseUI"]
libraries = {
&"": SubResource("AnimationLibrary_o6xl0")
}

[node name="GameOverUI" type="Control" parent="UI" node_paths=PackedStringArray("animation", "restart_button", "score", "pb", "is_new_pb")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
theme = ExtResource("4_tefeu")
script = ExtResource("5_o6xl0")
animation = NodePath("AnimationPlayer")
restart_button = NodePath("MarginContainer/VBoxContainer/restart")
score = NodePath("MarginContainer/VBoxContainer/Score/ScoreLabel")
pb = NodePath("MarginContainer/VBoxContainer/PB/PBLabel")
is_new_pb = NodePath("MarginContainer/VBoxContainer/PB/NewBest")

[node name="BG" type="TextureRect" parent="UI/GameOverUI"]
modulate = Color(1, 1, 1, 0.588235)
layout_mode = 1
anchors_preset = -1
anchor_right = 6.8
anchor_bottom = 6.0
offset_bottom = -1.52588e-05
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture2D_tefeu")
expand_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="UI/GameOverUI"]
layout_mode = 1
offset_right = 272.0
offset_bottom = 240.0
theme_override_constants/margin_left = 32
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 32
theme_override_constants/margin_bottom = 8

[node name="VBoxContainer" type="VBoxContainer" parent="UI/GameOverUI/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 2
alignment = 1

[node name="gameOver" type="Label" parent="UI/GameOverUI/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
text = "Game Over"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Score" type="HBoxContainer" parent="UI/GameOverUI/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="text" type="Label" parent="UI/GameOverUI/MarginContainer/VBoxContainer/Score"]
layout_mode = 2
text = "Score: "

[node name="ScoreLabel" type="Label" parent="UI/GameOverUI/MarginContainer/VBoxContainer/Score"]
layout_mode = 2
text = "999999"

[node name="PB" type="HBoxContainer" parent="UI/GameOverUI/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="text" type="Label" parent="UI/GameOverUI/MarginContainer/VBoxContainer/PB"]
layout_mode = 2
text = "Best:"

[node name="PBLabel" type="Label" parent="UI/GameOverUI/MarginContainer/VBoxContainer/PB"]
layout_mode = 2
text = "999"

[node name="NewBest" type="RichTextLabel" parent="UI/GameOverUI/MarginContainer/VBoxContainer/PB"]
clip_contents = false
custom_minimum_size = Vector2(0, 15)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0.2, 0.2, 0.2, 1)
theme_override_font_sizes/bold_italics_font_size = 16
theme_override_font_sizes/italics_font_size = 16
theme_override_font_sizes/mono_font_size = 16
theme_override_font_sizes/normal_font_size = 16
theme_override_font_sizes/bold_font_size = 16
bbcode_enabled = true
autowrap_mode = 2
custom_effects = [SubResource("RichTextEffect_choun")]
script = ExtResource("10_choun")
bbcode = "[gold][sin]New![][]"
effects = 2
alignment = 0
color = Color(1, 1, 1, 1)
emoji_scale = 1.0
font = "CompassGold"
font_auto_setup = true
font_size = 16
font_bold_weight = 1.5
font_italics_slant = 0.25
font_italics_weight = -0.25
shadow_enabled = false
shadow_offset = 0.08
shadow_alpha = 0.25
shadow_outline_size = 0.1
outline_size = 0
outline_mode = 1
outline_adjust = 0.8
outline_hue_adjust = 0.0125
nicer_quotes_enabled = true
nicer_quotes_format = "“%s”"
markdown_enabled = true
markdown_format_bold = "[b]%s[]"
markdown_format_italics = "[i]%s[]"
markdown_format_bold_italics = "[bi]%s[]"
markdown_format_highlight = "[green;sin]%s[]"
markdown_format_bold2 = "[b]*%s*[]"
markdown_format_italics2 = "[i;gray]*%s*[]"
markdown_format_bold_italics2 = "%s"
context_enabled = true
context_path = NodePath("/root/State")
context_state = {}
context_rich_objects = true
context_rich_ints = true
context_rich_array = true
autostyle_numbers = true
autostyle_numbers_tag = "[salmon]%s[]"
autostyle_numbers_pad_decimals = true
autostyle_numbers_decimals = 2
autostyle_emojis = true
effect_weight = 0.0
meta_auto_https = true
meta_cursor = 2
override_bbcodeEnabled = true
override_clipContents = false
override_fitContent = true
fit_width = false
fit_width_padding = 10
metadata/_custom_type_script = ExtResource("10_choun")

[node name="restart" type="Button" parent="UI/GameOverUI/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Restart"

[node name="LinkButton" type="LinkButton" parent="UI/GameOverUI/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "vanawy.dev"
underline = 1
uri = "https://vanawy.dev"

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/GameOverUI"]
libraries = {
&"": SubResource("AnimationLibrary_tipki")
}

[node name="Marker2D" type="Marker2D" parent="UI"]
position = Vector2(272, 240)
gizmo_extents = 825.0
